(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{1780:function(t,r,n){"use strict";n.r(r),n.d(r,{default:function(){return h}});var e=n(5893);function o(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function i(t,r){if(t){if("string"===typeof t)return o(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,r):void 0}}function u(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,r){return function(t){if(Array.isArray(t))return t}(t)||function(t,r){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],e=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(e=(u=a.next()).done)&&(n.push(u.value),!r||n.length!==r);e=!0);}catch(c){o=!0,i=c}finally{try{e||null==a.return||a.return()}finally{if(o)throw i}}return n}}(t,r)||i(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(7757),s=n.n(c),f=n(6156),p=n(2137),l=n(7294);function b(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function m(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?b(Object(n),!0).forEach((function(r){(0,f.Z)(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}var y=function(t){var r=t.image,n=t.index;return(0,e.jsx)("img",{className:"ListItem",src:r,width:"200",height:"200"},n)},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(r){return setTimeout(r,t)}))},h=function(){var t=(0,l.useState)({itemCount:0,isLoading:!1}),r=t[0],n=t[1],o=(0,l.useState)(null),i=o[0],c=o[1];(0,l.useEffect)((function(){f()}),[]);var f=function(){var t=(0,p.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("count ? ",r.itemCount),n((function(t){return m(m({},t),{},{isLoading:!0})})),t.next=4,d();case 4:n((function(t){return{itemCount:t.itemCount+3,isLoading:!1}})),console.log("count ? ",r.itemCount);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=["https://cdn.pixabay.com/photo/2016/11/18/17/20/living-room-1835923_1280.jpg","https://cdn.pixabay.com/photo/2014/12/27/14/37/living-room-581073__340.jpg","https://cdn.pixabay.com/photo/2016/06/24/10/47/house-1477041__340.jpg","https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579__340.jpg"];(0,l.useEffect)((function(){var t;return i&&(console.log("taget is...",i),(t=new IntersectionObserver(h,{threshold:.5})).observe(i)),function(){return t&&t.disconnect()}}),[i]);var h=function(){var t=(0,p.Z)(s().mark((function t(r,n){var e,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=a(r,1),!(o=e[0]).isIntersecting){t.next=7;break}return console.log("111111"),n.unobserve(o.target),t.next=6,f();case 6:n.observe(o.target);case 7:case"end":return t.stop()}}),t)})));return function(r,n){return t.apply(this,arguments)}}(),g=r.itemCount;r.isLoading;return(0,e.jsxs)(e.Fragment,{children:["images",(0,e.jsx)("br",{}),"IntersectionObserver \ub85c \ud574\ubcf4\uc790.",(0,e.jsx)("br",{}),"\uc2dc\ud5d8\uc758 \uad74\uc695\uc744 \uc78a\uc9c0\ub9d0\uae30.",u(Array(g)).map((function(t,r){return(0,e.jsxs)(e.Fragment,{children:[r%3==0&&(0,e.jsx)("br",{}),(0,e.jsx)(y,{image:b[r%3],index:r},r)]})})),(0,e.jsx)("div",{ref:c})]})}},1870:function(t,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images",function(){return n(1780)}])}},function(t){t.O(0,[774,888,179],(function(){return r=1870,t(t.s=r);var r}));var r=t.O();_N_E=r}]);