(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[609],{9953:function(t,e,n){"use strict";n.r(e);var r=n(5893),o=n(7329),i=n(4699),c=n(7757),s=n.n(c),u=n(6156),a=n(2137),p=n(7294);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=function(t){var e=t.image,n=t.index;return(0,r.jsx)("img",{className:"ListItem",src:e,width:"200",height:"200"},n)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){return setTimeout(e,t)}))};e.default=function(){var t=(0,p.useState)({itemCount:0,isLoading:!1}),e=t[0],n=t[1],c=(0,p.useState)(null),u=c[0],f=c[1];(0,p.useEffect)((function(){h()}),[]);var h=function(){var t=(0,a.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("count ? ",e.itemCount),n((function(t){return g(g({},t),{},{isLoading:!0})})),t.next=4,b();case 4:n((function(t){return{itemCount:t.itemCount+3,isLoading:!1}})),console.log("count ? ",e.itemCount);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=["https://cdn.pixabay.com/photo/2016/11/18/17/20/living-room-1835923_1280.jpg","https://cdn.pixabay.com/photo/2014/12/27/14/37/living-room-581073__340.jpg","https://cdn.pixabay.com/photo/2016/06/24/10/47/house-1477041__340.jpg","https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579__340.jpg"];(0,p.useEffect)((function(){var t;return u&&(console.log("taget is...",u),(t=new IntersectionObserver(v,{threshold:.5})).observe(u)),function(){return t&&t.disconnect()}}),[u]);var v=function(){var t=(0,a.Z)(s().mark((function t(e,n){var r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(0,i.Z)(e,1),!(o=r[0]).isIntersecting){t.next=7;break}return console.log("111111"),n.unobserve(o.target),t.next=6,h();case 6:n.observe(o.target);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),d=e.itemCount;e.isLoading;return(0,r.jsxs)(r.Fragment,{children:["images",(0,r.jsx)("br",{}),"IntersectionObserver \ub85c \ud574\ubcf4\uc790.",(0,r.jsx)("br",{}),(0,o.Z)(Array(d)).map((function(t,e){return(0,r.jsxs)(r.Fragment,{children:[e%3==0&&(0,r.jsx)("br",{}),(0,r.jsx)(l,{image:m[e%3],index:e},e)]})})),(0,r.jsx)("div",{ref:f})]})}},1870:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/images",function(){return n(9953)}])}},function(t){t.O(0,[774,888,179],(function(){return e=1870,t(t.s=e);var e}));var e=t.O();_N_E=e}]);