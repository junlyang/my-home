{"version":3,"sources":["webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://_N_E/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://_N_E/./pages/images.tsx","webpack://_N_E/?665c"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","_toConsumableArray","isArray","iter","Symbol","iterator","TypeError","_slicedToArray","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","ListItem","image","index","className","src","width","height","fakeFetch","delay","Promise","res","setTimeout","useState","itemCount","isLoading","state","setState","target","setTarget","useEffect","fetchItems","console","log","prev","imageList","observer","IntersectionObserver","onIntersect","threshold","observe","disconnect","entry","isIntersecting","unobserve","map","_","ref","window","__NEXT_P"],"mappings":"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","file":"static/chunks/pages/images-eba8a12765b4bb77a3b4.js","sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useEffect, useState, useRef } from 'react'\nconst ListItem = ({ image, index }) => (\n    <img className=\"ListItem\" src={image} key={index} width=\"200\" height=\"200\"/>\n);\n\nconst fakeFetch = (delay = 1000) => new Promise(res => setTimeout(res, delay));\n\nconst images = () => {\n\n    const [state,setState] = useState({itemCount:0,isLoading:false})\n    const [target,setTarget] = useState(null)\n    \n    useEffect(() => {\n        fetchItems();\n    }, []);\n    const fetchItems = async () => {\n        console.log('count ? ',state.itemCount)\n        setState(prev => ({ ...prev, isLoading: true }));\n        await fakeFetch();\n        setState(prev => ({\n          itemCount: prev.itemCount + 3,\n          isLoading: false\n        }));\n        console.log('count ? ',state.itemCount)\n      };\n    const imageList = \n        [\n            'https://cdn.pixabay.com/photo/2016/11/18/17/20/living-room-1835923_1280.jpg',\n            'https://cdn.pixabay.com/photo/2014/12/27/14/37/living-room-581073__340.jpg',\n            'https://cdn.pixabay.com/photo/2016/06/24/10/47/house-1477041__340.jpg',\n            'https://cdn.pixabay.com/photo/2015/04/10/17/03/pots-716579__340.jpg',\n        ]\n    useEffect(() => {\n        let observer;\n        if (target) {\n            console.log(\"taget is...\",target)\n            observer = new IntersectionObserver(onIntersect, { threshold: 0.5 });\n            observer.observe(target);\n        }\n      return () => observer && observer.disconnect();\n    }, [target]);\n    \n\t/* 인터섹션 callback */\n    const onIntersect = async ([entry], observer) => {\n        if (entry.isIntersecting) {\n            console.log(\"111111\")\n            observer.unobserve(entry.target);\n            await fetchItems();\n            observer.observe(entry.target);\n        }\n    };\n    const { itemCount, isLoading } = state;\n    return (\n        <>\n            images<br/>\n            IntersectionObserver 로 해보자.<br/>\n            시험의 굴욕을 잊지말기.\n            {[...Array(itemCount)].map((_, i) => {\n                return (\n                    <>  \n                        {i % 3 == 0 && <br/>}\n                        <ListItem image={imageList[i%3]} index={i} key={i} />\n                    </>\n                    )\n            })}\n            <div ref={setTarget} />\n        </>\n    )\n}\n\nexport default images","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/images\",\n      function () {\n        return require(\"private-next-pages/images.tsx\");\n      }\n    ]);\n  "],"sourceRoot":""}